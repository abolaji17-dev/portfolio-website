const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/build-user-code--9uQxl_h.js","assets/get-html-D9pLuxCy.js","assets/validate-react-aPU4F9En.js","assets/transpile-B7EQPK6j.js","assets/parse-transpile-error-BP41jN94.js"])))=>i.map(i=>d[i]);
var Jn=Object.defineProperty;var Ze=t=>{throw TypeError(t)};var Qn=(t,e,n)=>e in t?Jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R=(t,e,n)=>Qn(t,typeof e!="symbol"?e+"":e,n),Ae=(t,e,n)=>e.has(t)||Ze("Cannot "+n);var a=(t,e,n)=>(Ae(t,e,"read from private field"),n?n.call(t):e.get(t)),v=(t,e,n)=>e.has(t)?Ze("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_=(t,e,n,r)=>(Ae(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),y=(t,e,n)=>(Ae(t,e,"access private method"),n);var be=(t,e,n,r)=>({set _(o){_(t,e,o,n)},get _(){return a(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const tr="modulepreload",er=function(t){return"/"+t},Ke={},Nt=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=er(c),c in Ke)return;Ke[c]=!0;const h=c.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":tr,h||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((p,b)=>{d.addEventListener("load",p),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},nr=["oaisdmntpraueastdr.blob.core.windows.net","oaisdmntpraustraliaeast.blob.core.windows.net","oaisdmntprbrazilsouth.blob.core.windows.net","oaisdmntprcacentral.blob.core.windows.net","oaisdmntprcacentraldr.blob.core.windows.net","oaisdmntprcentralindia.blob.core.windows.net","oaisdmntprcentralindiadr.blob.core.windows.net","oaisdmntprcentralus.blob.core.windows.net","oaisdmntprcentralusdr.blob.core.windows.net","oaisdmntpreastus.blob.core.windows.net","oaisdmntpreastus2.blob.core.windows.net","oaisdmntpritalynorth.blob.core.windows.net","oaisdmntprjapaneast.blob.core.windows.net","oaisdmntprjapaneastdr.blob.core.windows.net","oaisdmntprkoreacentral.blob.core.windows.net","oaisdmntprkoreacentraldr.blob.core.windows.net","oaisdmntprnorthcentralus.blob.core.windows.net","oaisdmntprnortheu.blob.core.windows.net","oaisdmntprnortheurope.blob.core.windows.net","oaisdmntprnznorth.blob.core.windows.net","oaisdmntprpolandcentral.blob.core.windows.net","oaisdmntprseasia.blob.core.windows.net","oaisdmntprseasiadr.blob.core.windows.net","oaisdmntprsouthcentralus.blob.core.windows.net","oaisdmntprsoutheastus3.blob.core.windows.net","oaisdmntpruaenorthdr.blob.core.windows.net","oaisdmntpruksouthdr.blob.core.windows.net","oaisdmntprukwest.blob.core.windows.net","oaisdmntprwestcentralus.blob.core.windows.net","oaisdmntprwestus.blob.core.windows.net","oaisdmntprwestus2.blob.core.windows.net","oaisdmntprwestus3.blob.core.windows.net"],Je=["cdn.tailwindcss.com","cdn.jsdelivr.net","unpkg.com","*.oaiusercontent.com",...nr,"threejs.org"],rr=new Set(["https:","http:","wss:"]),Tn=/^[a-z][a-z0-9+.-]*:\/\//i,On=new Set(["blob:","data:"]);function Ce(t,e=!1){const n=new Set;for(let r of t){let o=r.trim();if(!o)continue;if(e&&On.has(o)){n.add(o);continue}Tn.test(o)||(o=`https://${o}`);let s=null;try{s=new URL(o)}catch{if(!e)continue}if(!e&&(!s||!rr.has(s.protocol))||s!=null&&s.username||s!=null&&s.password)continue;const i=e?r:s==null?void 0:s.origin;!i||!/^[^\s;,"']+$/.test(i)||n.add(i)}return Array.from(n)}const Le=t=>t.filter(Boolean).map(e=>Tn.test(e)||On.has(e)?e:`https://${e}`).join(" ");function or({resourceDomains:t,frameDomains:e=[],connectDomains:n=[],isTrusted:r}){const o=Le(Je.concat(Ce(t,r))),s=Le(Je.concat(Ce(n,r))),i=Le(Ce(e,r));return`<meta http-equiv="Content-Security-Policy" content="${["default-src 'self'",`script-src 'self' 'wasm-unsafe-eval' 'unsafe-inline' 'unsafe-eval' blob: ${o}`,"worker-src 'self' blob:",`style-src 'self' 'unsafe-inline' ${o}`,`style-src-elem 'self' 'unsafe-inline' ${o}`,"style-src-attr 'unsafe-inline'",`img-src 'self' data: ${o}`,`font-src 'self' ${o}`,`connect-src 'self' ${s}`,`media-src 'self' ${o}`,"object-src 'none'",`frame-src ${i.length>0?i:"'none'"}`,"base-uri 'self'","upgrade-insecure-requests"].filter(Boolean).join("; ")}">`}let Qe=null,ne=null;function tn(t){if(!(t!=null&&t.length))return[];if(t.some(n=>n.trim().toLowerCase()==="'none'"))return[];if(t.some(n=>n.trim()==="*"))return["*"];const e=new Set;for(const n of t){const r=n.trim().toLowerCase();r&&e.add(r)}return Array.from(e.values())}function en(t,e){const n=tn(t),r=tn(e),o=n.includes("*"),s=r.includes("*");if(o&&!s)return"more";if(!o&&s)return"less";if(o&&s)return"equal";const i=new Set(n),l=new Set(r),c=(d,p)=>{for(const b of d)if(!p.has(b))return!1;return!0},h=c(l,i),u=c(i,l);return h&&u?"equal":h&&l.size<i.size?"more":"less"}function sr(t,e){if(!t)return"more";let n=!1;const r=en(t.resourceDomains,e.resourceDomains);if(r==="less")return"less";r==="more"&&(n=!0);const o=en(t.connectDomains,e.connectDomains);return o==="less"?"less":(o==="more"&&(n=!0),n?"more":"equal")}function ir(t){if(typeof t!="string")return t;const e=document.createElement("div");e.innerHTML=t.trim();const n=e.querySelector('meta[http-equiv="Content-Security-Policy"]');if(!n)throw new Error("buildMetaTag() did not produce a CSP <meta> tag");return n}function ar(t){if(!t)return;const e=sr(Qe,t);if(e==="less")throw new Error("CSP is being loosened");if(e==="equal")return;const n=or(t),r=ir(n);if(ne!=null&&ne.isConnected)ne.replaceWith(r);else{const o=document.head.querySelector('meta[http-equiv="Content-Security-Policy"]');o?o.replaceWith(r):document.head.appendChild(r)}ne=r,Qe=t}var Tt=(t=>(t.LOG="log",t.RUN_START="run_start",t.ENVIRONMENT_STATUS="environment_status",t.OUTPUT="output",t.ERROR="error",t.RUN_COMPLETE="run_complete",t))(Tt||{}),Rn=(t=>(t[t.INITIALIZING=0]="INITIALIZING",t[t.INSTALLING_PACKAGES=1]="INSTALLING_PACKAGES",t[t.RUNNING_CODE=2]="RUNNING_CODE",t))(Rn||{});const cr=new Set(["sendInstrument","notifySecurityPolicyViolation","notifyEnvironmentError","notifyIntrinsicHeight","notifyBackgroundColor","notifyNavigation","notifyEscapeKey","drawBoundingBoxes","getDownloadURL","openPromptInput","openPulseOverlay","openPulseShare","triggerHaptic","updateWidgetState"]),nn="webplus:set_globals";class lr extends CustomEvent{constructor(n){super(nn,{detail:{globals:n}});R(this,"type",nn)}}const rn="openai:set_globals";class ur extends CustomEvent{constructor(n){super(rn,{detail:{globals:n}});R(this,"type",rn)}}const An="root",st=()=>document.getElementById(An),hr=()=>{const t=st();t==null||t.remove()},dr=t=>{const e=document.createElement("iframe");return e.sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-forms",e.id=An,t!=null&&t.length&&e.setAttribute("allow",fr(t)),document.body.appendChild(e),e},fr=t=>t.concat().sort().map(e=>`${e} *`).join("; "),pr=/^rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\s*\)$/,gr=t=>{const e=t.match(pr);return e?parseFloat(e[4])===0:!1},mr=t=>{const e=(t==null?void 0:t.getElementById("root"))??(t==null?void 0:t.documentElement);if(!e)return null;const r=(o=>{const s=[o];for(;s.length>0;){const i=s.shift();if(!i)return null;const{backgroundColor:l}=getComputedStyle(i);if(!gr(l))return l;for(let c of i.children)s.push(c)}return null})(e);return r||null},re=t=>{if(!t)return null;const e=t.scrollHeight??0,{height:n}=t.getBoundingClientRect(),r=Math.max(e,n);return Number.isFinite(r)&&r>0?r:null},ve=t=>{if(!t)return null;const e=t.scrollWidth??0,{width:n}=t.getBoundingClientRect(),r=Math.max(e,n);return Number.isFinite(r)&&r>0?r:null},yr=t=>{var o,s;const e=Array.from(t.children).filter(i=>{const l=i.tagName;return l!=="SCRIPT"&&l!=="STYLE"});if(!e.length)return null;if(e.length===1)return re(e[0]);const n=(o=t.getBoundingClientRect)==null?void 0:o.call(t);let r=0;for(const i of e){const l=(s=i.getBoundingClientRect)==null?void 0:s.call(i);if(!l)continue;const c=n?n.top:0,h=l.bottom-c;r=Math.max(r,h)}return r>0?r:null},br=t=>{if(!t)return null;const e=re(t.getElementById("root"));if(e)return e;const n=t.body;if(n){const r=yr(n);if(r)return r;const o=re(n);if(o)return o}return re(t.documentElement)??re(t.scrollingElement)},wr=t=>{if(!t)return null;const e=ve(t.getElementById("root"));return e||(ve(t.documentElement)??ve(t.scrollingElement))},Vt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Cn=new Set,Fe=typeof process=="object"&&process?process:{},Ln=(t,e,n,r)=>{typeof Fe.emitWarning=="function"?Fe.emitWarning(t,e,n,r):console.error(`[${n}] ${e}: ${t}`)};let Te=globalThis.AbortController,on=globalThis.AbortSignal;var En;if(typeof Te>"u"){on=class{constructor(){R(this,"onabort");R(this,"_onabort",[]);R(this,"reason");R(this,"aborted",!1)}addEventListener(r,o){this._onabort.push(o)}},Te=class{constructor(){R(this,"signal",new on);e()}abort(r){var o,s;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const i of this.signal._onabort)i(r);(s=(o=this.signal).onabort)==null||s.call(o,r)}}};let t=((En=Fe.env)==null?void 0:En.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,Ln("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const Er=t=>!Cn.has(t),Lt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),vn=t=>Lt(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Ee:null:null;class Ee extends Array{constructor(e){super(e),this.fill(0)}}var Zt;const Wt=class Wt{constructor(e,n){R(this,"heap");R(this,"length");if(!a(Wt,Zt))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=vn(e);if(!n)return[];_(Wt,Zt,!0);const r=new Wt(e,n);return _(Wt,Zt,!1),r}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};Zt=new WeakMap,v(Wt,Zt,!1);let xe=Wt;var _n,Sn,ct,J,lt,Ht,ut,Kt,Jt,j,ht,W,D,C,Y,Q,q,$,dt,k,ft,pt,tt,gt,zt,Z,Qt,g,Be,$t,St,he,et,In,kt,te,de,vt,It,Ge,_e,Se,M,We,oe,Pt,je;const Ye=class Ye{constructor(e){v(this,g);v(this,ct);v(this,J);v(this,lt);v(this,Ht);v(this,ut);v(this,Kt);v(this,Jt);R(this,"ttl");R(this,"ttlResolution");R(this,"ttlAutopurge");R(this,"updateAgeOnGet");R(this,"updateAgeOnHas");R(this,"allowStale");R(this,"noDisposeOnSet");R(this,"noUpdateTTL");R(this,"maxEntrySize");R(this,"sizeCalculation");R(this,"noDeleteOnFetchRejection");R(this,"noDeleteOnStaleGet");R(this,"allowStaleOnFetchAbort");R(this,"allowStaleOnFetchRejection");R(this,"ignoreFetchAbort");v(this,j);v(this,ht);v(this,W);v(this,D);v(this,C);v(this,Y);v(this,Q);v(this,q);v(this,$);v(this,dt);v(this,k);v(this,ft);v(this,pt);v(this,tt);v(this,gt);v(this,zt);v(this,Z);v(this,Qt);v(this,$t,()=>{});v(this,St,()=>{});v(this,he,()=>{});v(this,et,()=>!1);v(this,kt,e=>{});v(this,te,(e,n,r)=>{});v(this,de,(e,n,r,o)=>{if(r||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});R(this,_n,"LRUCache");const{max:n=0,ttl:r,ttlResolution:o=1,ttlAutopurge:s,updateAgeOnGet:i,updateAgeOnHas:l,allowStale:c,dispose:h,onInsert:u,disposeAfter:d,noDisposeOnSet:p,noUpdateTTL:b,maxSize:A=0,maxEntrySize:E=0,sizeCalculation:T,fetchMethod:w,memoMethod:O,noDeleteOnFetchRejection:f,noDeleteOnStaleGet:m,allowStaleOnFetchRejection:L,allowStaleOnFetchAbort:P,ignoreFetchAbort:S}=e;if(n!==0&&!Lt(n))throw new TypeError("max option must be a nonnegative integer");const I=n?vn(n):Array;if(!I)throw new Error("invalid max value: "+n);if(_(this,ct,n),_(this,J,A),this.maxEntrySize=E||a(this,J),this.sizeCalculation=T,this.sizeCalculation){if(!a(this,J)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(O!==void 0&&typeof O!="function")throw new TypeError("memoMethod must be a function if defined");if(_(this,Jt,O),w!==void 0&&typeof w!="function")throw new TypeError("fetchMethod must be a function if specified");if(_(this,Kt,w),_(this,zt,!!w),_(this,W,new Map),_(this,D,new Array(n).fill(void 0)),_(this,C,new Array(n).fill(void 0)),_(this,Y,new I(n)),_(this,Q,new I(n)),_(this,q,0),_(this,$,0),_(this,dt,xe.create(n)),_(this,j,0),_(this,ht,0),typeof h=="function"&&_(this,lt,h),typeof u=="function"&&_(this,Ht,u),typeof d=="function"?(_(this,ut,d),_(this,k,[])):(_(this,ut,void 0),_(this,k,void 0)),_(this,gt,!!a(this,lt)),_(this,Qt,!!a(this,Ht)),_(this,Z,!!a(this,ut)),this.noDisposeOnSet=!!p,this.noUpdateTTL=!!b,this.noDeleteOnFetchRejection=!!f,this.allowStaleOnFetchRejection=!!L,this.allowStaleOnFetchAbort=!!P,this.ignoreFetchAbort=!!S,this.maxEntrySize!==0){if(a(this,J)!==0&&!Lt(a(this,J)))throw new TypeError("maxSize must be a positive integer if specified");if(!Lt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");y(this,g,In).call(this)}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!m,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!l,this.ttlResolution=Lt(o)||o===0?o:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!Lt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");y(this,g,Be).call(this)}if(a(this,ct)===0&&this.ttl===0&&a(this,J)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!a(this,ct)&&!a(this,J)){const N="LRU_CACHE_UNBOUNDED";Er(N)&&(Cn.add(N),Ln("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",N,Ye))}}static unsafeExposeInternals(e){return{starts:a(e,pt),ttls:a(e,tt),sizes:a(e,ft),keyMap:a(e,W),keyList:a(e,D),valList:a(e,C),next:a(e,Y),prev:a(e,Q),get head(){return a(e,q)},get tail(){return a(e,$)},free:a(e,dt),isBackgroundFetch:n=>{var r;return y(r=e,g,M).call(r,n)},backgroundFetch:(n,r,o,s)=>{var i;return y(i=e,g,Se).call(i,n,r,o,s)},moveToTail:n=>{var r;return y(r=e,g,oe).call(r,n)},indexes:n=>{var r;return y(r=e,g,vt).call(r,n)},rindexes:n=>{var r;return y(r=e,g,It).call(r,n)},isStale:n=>{var r;return a(r=e,et).call(r,n)}}}get max(){return a(this,ct)}get maxSize(){return a(this,J)}get calculatedSize(){return a(this,ht)}get size(){return a(this,j)}get fetchMethod(){return a(this,Kt)}get memoMethod(){return a(this,Jt)}get dispose(){return a(this,lt)}get onInsert(){return a(this,Ht)}get disposeAfter(){return a(this,ut)}getRemainingTTL(e){return a(this,W).has(e)?1/0:0}*entries(){for(const e of y(this,g,vt).call(this))a(this,C)[e]!==void 0&&a(this,D)[e]!==void 0&&!y(this,g,M).call(this,a(this,C)[e])&&(yield[a(this,D)[e],a(this,C)[e]])}*rentries(){for(const e of y(this,g,It).call(this))a(this,C)[e]!==void 0&&a(this,D)[e]!==void 0&&!y(this,g,M).call(this,a(this,C)[e])&&(yield[a(this,D)[e],a(this,C)[e]])}*keys(){for(const e of y(this,g,vt).call(this)){const n=a(this,D)[e];n!==void 0&&!y(this,g,M).call(this,a(this,C)[e])&&(yield n)}}*rkeys(){for(const e of y(this,g,It).call(this)){const n=a(this,D)[e];n!==void 0&&!y(this,g,M).call(this,a(this,C)[e])&&(yield n)}}*values(){for(const e of y(this,g,vt).call(this))a(this,C)[e]!==void 0&&!y(this,g,M).call(this,a(this,C)[e])&&(yield a(this,C)[e])}*rvalues(){for(const e of y(this,g,It).call(this))a(this,C)[e]!==void 0&&!y(this,g,M).call(this,a(this,C)[e])&&(yield a(this,C)[e])}[(Sn=Symbol.iterator,_n=Symbol.toStringTag,Sn)](){return this.entries()}find(e,n={}){for(const r of y(this,g,vt).call(this)){const o=a(this,C)[r],s=y(this,g,M).call(this,o)?o.__staleWhileFetching:o;if(s!==void 0&&e(s,a(this,D)[r],this))return this.get(a(this,D)[r],n)}}forEach(e,n=this){for(const r of y(this,g,vt).call(this)){const o=a(this,C)[r],s=y(this,g,M).call(this,o)?o.__staleWhileFetching:o;s!==void 0&&e.call(n,s,a(this,D)[r],this)}}rforEach(e,n=this){for(const r of y(this,g,It).call(this)){const o=a(this,C)[r],s=y(this,g,M).call(this,o)?o.__staleWhileFetching:o;s!==void 0&&e.call(n,s,a(this,D)[r],this)}}purgeStale(){let e=!1;for(const n of y(this,g,It).call(this,{allowStale:!0}))a(this,et).call(this,n)&&(y(this,g,Pt).call(this,a(this,D)[n],"expire"),e=!0);return e}info(e){const n=a(this,W).get(e);if(n===void 0)return;const r=a(this,C)[n],o=y(this,g,M).call(this,r)?r.__staleWhileFetching:r;if(o===void 0)return;const s={value:o};if(a(this,tt)&&a(this,pt)){const i=a(this,tt)[n],l=a(this,pt)[n];if(i&&l){const c=i-(Vt.now()-l);s.ttl=c,s.start=Date.now()}}return a(this,ft)&&(s.size=a(this,ft)[n]),s}dump(){const e=[];for(const n of y(this,g,vt).call(this,{allowStale:!0})){const r=a(this,D)[n],o=a(this,C)[n],s=y(this,g,M).call(this,o)?o.__staleWhileFetching:o;if(s===void 0||r===void 0)continue;const i={value:s};if(a(this,tt)&&a(this,pt)){i.ttl=a(this,tt)[n];const l=Vt.now()-a(this,pt)[n];i.start=Math.floor(Date.now()-l)}a(this,ft)&&(i.size=a(this,ft)[n]),e.unshift([r,i])}return e}load(e){this.clear();for(const[n,r]of e){if(r.start){const o=Date.now()-r.start;r.start=Vt.now()-o}this.set(n,r.value,r)}}set(e,n,r={}){var p,b,A,E,T,w,O;if(n===void 0)return this.delete(e),this;const{ttl:o=this.ttl,start:s,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:c}=r;let{noUpdateTTL:h=this.noUpdateTTL}=r;const u=a(this,de).call(this,e,n,r.size||0,l);if(this.maxEntrySize&&u>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),y(this,g,Pt).call(this,e,"set"),this;let d=a(this,j)===0?void 0:a(this,W).get(e);if(d===void 0)d=a(this,j)===0?a(this,$):a(this,dt).length!==0?a(this,dt).pop():a(this,j)===a(this,ct)?y(this,g,_e).call(this,!1):a(this,j),a(this,D)[d]=e,a(this,C)[d]=n,a(this,W).set(e,d),a(this,Y)[a(this,$)]=d,a(this,Q)[d]=a(this,$),_(this,$,d),be(this,j)._++,a(this,te).call(this,d,u,c),c&&(c.set="add"),h=!1,a(this,Qt)&&((p=a(this,Ht))==null||p.call(this,n,e,"add"));else{y(this,g,oe).call(this,d);const f=a(this,C)[d];if(n!==f){if(a(this,zt)&&y(this,g,M).call(this,f)){f.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:m}=f;m!==void 0&&!i&&(a(this,gt)&&((b=a(this,lt))==null||b.call(this,m,e,"set")),a(this,Z)&&((A=a(this,k))==null||A.push([m,e,"set"])))}else i||(a(this,gt)&&((E=a(this,lt))==null||E.call(this,f,e,"set")),a(this,Z)&&((T=a(this,k))==null||T.push([f,e,"set"])));if(a(this,kt).call(this,d),a(this,te).call(this,d,u,c),a(this,C)[d]=n,c){c.set="replace";const m=f&&y(this,g,M).call(this,f)?f.__staleWhileFetching:f;m!==void 0&&(c.oldValue=m)}}else c&&(c.set="update");a(this,Qt)&&((w=this.onInsert)==null||w.call(this,n,e,n===f?"update":"replace"))}if(o!==0&&!a(this,tt)&&y(this,g,Be).call(this),a(this,tt)&&(h||a(this,he).call(this,d,o,s),c&&a(this,St).call(this,c,d)),!i&&a(this,Z)&&a(this,k)){const f=a(this,k);let m;for(;m=f==null?void 0:f.shift();)(O=a(this,ut))==null||O.call(this,...m)}return this}pop(){var e;try{for(;a(this,j);){const n=a(this,C)[a(this,q)];if(y(this,g,_e).call(this,!0),y(this,g,M).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(a(this,Z)&&a(this,k)){const n=a(this,k);let r;for(;r=n==null?void 0:n.shift();)(e=a(this,ut))==null||e.call(this,...r)}}}has(e,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:o}=n,s=a(this,W).get(e);if(s!==void 0){const i=a(this,C)[s];if(y(this,g,M).call(this,i)&&i.__staleWhileFetching===void 0)return!1;if(a(this,et).call(this,s))o&&(o.has="stale",a(this,St).call(this,o,s));else return r&&a(this,$t).call(this,s),o&&(o.has="hit",a(this,St).call(this,o,s)),!0}else o&&(o.has="miss");return!1}peek(e,n={}){const{allowStale:r=this.allowStale}=n,o=a(this,W).get(e);if(o===void 0||!r&&a(this,et).call(this,o))return;const s=a(this,C)[o];return y(this,g,M).call(this,s)?s.__staleWhileFetching:s}async fetch(e,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:c=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:b=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:E,forceRefresh:T=!1,status:w,signal:O}=n;if(!a(this,zt))return w&&(w.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:o,noDeleteOnStaleGet:s,status:w});const f={allowStale:r,updateAgeOnGet:o,noDeleteOnStaleGet:s,ttl:i,noDisposeOnSet:l,size:c,sizeCalculation:h,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:A,ignoreFetchAbort:b,status:w,signal:O};let m=a(this,W).get(e);if(m===void 0){w&&(w.fetch="miss");const L=y(this,g,Se).call(this,e,m,f,E);return L.__returned=L}else{const L=a(this,C)[m];if(y(this,g,M).call(this,L)){const K=r&&L.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",K&&(w.returnedStale=!0)),K?L.__staleWhileFetching:L.__returned=L}const P=a(this,et).call(this,m);if(!T&&!P)return w&&(w.fetch="hit"),y(this,g,oe).call(this,m),o&&a(this,$t).call(this,m),w&&a(this,St).call(this,w,m),L;const S=y(this,g,Se).call(this,e,m,f,E),N=S.__staleWhileFetching!==void 0&&r;return w&&(w.fetch=P?"stale":"refresh",N&&P&&(w.returnedStale=!0)),N?S.__staleWhileFetching:S.__returned=S}}async forceFetch(e,n={}){const r=await this.fetch(e,n);if(r===void 0)throw new Error("fetch() returned undefined");return r}memo(e,n={}){const r=a(this,Jt);if(!r)throw new Error("no memoMethod provided to constructor");const{context:o,forceRefresh:s,...i}=n,l=this.get(e,i);if(!s&&l!==void 0)return l;const c=r(e,l,{options:i,context:o});return this.set(e,c,i),c}get(e,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:i}=n,l=a(this,W).get(e);if(l!==void 0){const c=a(this,C)[l],h=y(this,g,M).call(this,c);return i&&a(this,St).call(this,i,l),a(this,et).call(this,l)?(i&&(i.get="stale"),h?(i&&r&&c.__staleWhileFetching!==void 0&&(i.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||y(this,g,Pt).call(this,e,"expire"),i&&r&&(i.returnedStale=!0),r?c:void 0)):(i&&(i.get="hit"),h?c.__staleWhileFetching:(y(this,g,oe).call(this,l),o&&a(this,$t).call(this,l),c))}else i&&(i.get="miss")}delete(e){return y(this,g,Pt).call(this,e,"delete")}clear(){return y(this,g,je).call(this,"delete")}};ct=new WeakMap,J=new WeakMap,lt=new WeakMap,Ht=new WeakMap,ut=new WeakMap,Kt=new WeakMap,Jt=new WeakMap,j=new WeakMap,ht=new WeakMap,W=new WeakMap,D=new WeakMap,C=new WeakMap,Y=new WeakMap,Q=new WeakMap,q=new WeakMap,$=new WeakMap,dt=new WeakMap,k=new WeakMap,ft=new WeakMap,pt=new WeakMap,tt=new WeakMap,gt=new WeakMap,zt=new WeakMap,Z=new WeakMap,Qt=new WeakMap,g=new WeakSet,Be=function(){const e=new Ee(a(this,ct)),n=new Ee(a(this,ct));_(this,tt,e),_(this,pt,n),_(this,he,(s,i,l=Vt.now())=>{if(n[s]=i!==0?l:0,e[s]=i,i!==0&&this.ttlAutopurge){const c=setTimeout(()=>{a(this,et).call(this,s)&&y(this,g,Pt).call(this,a(this,D)[s],"expire")},i+1);c.unref&&c.unref()}}),_(this,$t,s=>{n[s]=e[s]!==0?Vt.now():0}),_(this,St,(s,i)=>{if(e[i]){const l=e[i],c=n[i];if(!l||!c)return;s.ttl=l,s.start=c,s.now=r||o();const h=s.now-c;s.remainingTTL=l-h}});let r=0;const o=()=>{const s=Vt.now();if(this.ttlResolution>0){r=s;const i=setTimeout(()=>r=0,this.ttlResolution);i.unref&&i.unref()}return s};this.getRemainingTTL=s=>{const i=a(this,W).get(s);if(i===void 0)return 0;const l=e[i],c=n[i];if(!l||!c)return 1/0;const h=(r||o())-c;return l-h},_(this,et,s=>{const i=n[s],l=e[s];return!!l&&!!i&&(r||o())-i>l})},$t=new WeakMap,St=new WeakMap,he=new WeakMap,et=new WeakMap,In=function(){const e=new Ee(a(this,ct));_(this,ht,0),_(this,ft,e),_(this,kt,n=>{_(this,ht,a(this,ht)-e[n]),e[n]=0}),_(this,de,(n,r,o,s)=>{if(y(this,g,M).call(this,r))return 0;if(!Lt(o))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(o=s(r,n),!Lt(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o}),_(this,te,(n,r,o)=>{if(e[n]=r,a(this,J)){const s=a(this,J)-e[n];for(;a(this,ht)>s;)y(this,g,_e).call(this,!0)}_(this,ht,a(this,ht)+e[n]),o&&(o.entrySize=r,o.totalCalculatedSize=a(this,ht))})},kt=new WeakMap,te=new WeakMap,de=new WeakMap,vt=function*({allowStale:e=this.allowStale}={}){if(a(this,j))for(let n=a(this,$);!(!y(this,g,Ge).call(this,n)||((e||!a(this,et).call(this,n))&&(yield n),n===a(this,q)));)n=a(this,Q)[n]},It=function*({allowStale:e=this.allowStale}={}){if(a(this,j))for(let n=a(this,q);!(!y(this,g,Ge).call(this,n)||((e||!a(this,et).call(this,n))&&(yield n),n===a(this,$)));)n=a(this,Y)[n]},Ge=function(e){return e!==void 0&&a(this,W).get(a(this,D)[e])===e},_e=function(e){var s,i;const n=a(this,q),r=a(this,D)[n],o=a(this,C)[n];return a(this,zt)&&y(this,g,M).call(this,o)?o.__abortController.abort(new Error("evicted")):(a(this,gt)||a(this,Z))&&(a(this,gt)&&((s=a(this,lt))==null||s.call(this,o,r,"evict")),a(this,Z)&&((i=a(this,k))==null||i.push([o,r,"evict"]))),a(this,kt).call(this,n),e&&(a(this,D)[n]=void 0,a(this,C)[n]=void 0,a(this,dt).push(n)),a(this,j)===1?(_(this,q,_(this,$,0)),a(this,dt).length=0):_(this,q,a(this,Y)[n]),a(this,W).delete(r),be(this,j)._--,n},Se=function(e,n,r,o){const s=n===void 0?void 0:a(this,C)[n];if(y(this,g,M).call(this,s))return s;const i=new Te,{signal:l}=r;l==null||l.addEventListener("abort",()=>i.abort(l.reason),{signal:i.signal});const c={signal:i.signal,options:r,context:o},h=(E,T=!1)=>{const{aborted:w}=i.signal,O=r.ignoreFetchAbort&&E!==void 0;if(r.status&&(w&&!T?(r.status.fetchAborted=!0,r.status.fetchError=i.signal.reason,O&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),w&&!O&&!T)return d(i.signal.reason);const f=b;return a(this,C)[n]===b&&(E===void 0?f.__staleWhileFetching?a(this,C)[n]=f.__staleWhileFetching:y(this,g,Pt).call(this,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(e,E,c.options))),E},u=E=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=E),d(E)),d=E=>{const{aborted:T}=i.signal,w=T&&r.allowStaleOnFetchAbort,O=w||r.allowStaleOnFetchRejection,f=O||r.noDeleteOnFetchRejection,m=b;if(a(this,C)[n]===b&&(!f||m.__staleWhileFetching===void 0?y(this,g,Pt).call(this,e,"fetch"):w||(a(this,C)[n]=m.__staleWhileFetching)),O)return r.status&&m.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),m.__staleWhileFetching;if(m.__returned===m)throw E},p=(E,T)=>{var O;const w=(O=a(this,Kt))==null?void 0:O.call(this,e,s,c);w&&w instanceof Promise&&w.then(f=>E(f===void 0?void 0:f),T),i.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(E(void 0),r.allowStaleOnFetchAbort&&(E=f=>h(f,!0)))})};r.status&&(r.status.fetchDispatched=!0);const b=new Promise(p).then(h,u),A=Object.assign(b,{__abortController:i,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,A,{...c.options,status:void 0}),n=a(this,W).get(e)):a(this,C)[n]=A,A},M=function(e){if(!a(this,zt))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Te},We=function(e,n){a(this,Q)[n]=e,a(this,Y)[e]=n},oe=function(e){e!==a(this,$)&&(e===a(this,q)?_(this,q,a(this,Y)[e]):y(this,g,We).call(this,a(this,Q)[e],a(this,Y)[e]),y(this,g,We).call(this,a(this,$),e),_(this,$,e))},Pt=function(e,n){var o,s,i,l;let r=!1;if(a(this,j)!==0){const c=a(this,W).get(e);if(c!==void 0)if(r=!0,a(this,j)===1)y(this,g,je).call(this,n);else{a(this,kt).call(this,c);const h=a(this,C)[c];if(y(this,g,M).call(this,h)?h.__abortController.abort(new Error("deleted")):(a(this,gt)||a(this,Z))&&(a(this,gt)&&((o=a(this,lt))==null||o.call(this,h,e,n)),a(this,Z)&&((s=a(this,k))==null||s.push([h,e,n]))),a(this,W).delete(e),a(this,D)[c]=void 0,a(this,C)[c]=void 0,c===a(this,$))_(this,$,a(this,Q)[c]);else if(c===a(this,q))_(this,q,a(this,Y)[c]);else{const u=a(this,Q)[c];a(this,Y)[u]=a(this,Y)[c];const d=a(this,Y)[c];a(this,Q)[d]=a(this,Q)[c]}be(this,j)._--,a(this,dt).push(c)}}if(a(this,Z)&&((i=a(this,k))!=null&&i.length)){const c=a(this,k);let h;for(;h=c==null?void 0:c.shift();)(l=a(this,ut))==null||l.call(this,...h)}return r},je=function(e){var n,r,o;for(const s of y(this,g,It).call(this,{allowStale:!0})){const i=a(this,C)[s];if(y(this,g,M).call(this,i))i.__abortController.abort(new Error("deleted"));else{const l=a(this,D)[s];a(this,gt)&&((n=a(this,lt))==null||n.call(this,i,l,e)),a(this,Z)&&((r=a(this,k))==null||r.push([i,l,e]))}}if(a(this,W).clear(),a(this,C).fill(void 0),a(this,D).fill(void 0),a(this,tt)&&a(this,pt)&&(a(this,tt).fill(0),a(this,pt).fill(0)),a(this,ft)&&a(this,ft).fill(0),_(this,q,0),_(this,$,0),a(this,dt).length=0,_(this,ht,0),_(this,j,0),a(this,Z)&&a(this,k)){const s=a(this,k);let i;for(;i=s==null?void 0:s.shift();)(o=a(this,ut))==null||o.call(this,...i)}};let Ne=Ye;const _r=1500;let ie=null;const sn=()=>{var e;const t=(e=st())==null?void 0:e.contentWindow;return!ie||!t||!(ie instanceof t.HTMLElement)?null:ie},an=(t,e,n)=>{var r;try{const o=new URL(n,e.href);if(o.hostname!==e.hostname||o.protocol!==e.protocol)return(r=t.openExternal)==null||r.call(t,{href:o.href}),!0}catch{return}},Sr=({doc:t,isFirstParty:e})=>{const n=t.contentWindow;if(!n)return;const r=Oe({isFirstParty:e,includePrivate:e});let o;const s=u=>{var A,E;if(!u.isTrusted||((A=r.sendInstrument)==null||A.call(r,{type:"interaction",label:"click"}),!(u instanceof n.MouseEvent)))return;const d=u.target;if(!(d instanceof n.HTMLElement))return;const p=(E=d.closest("a"))==null?void 0:E.getAttribute("href");if(!p)return;const{location:b}=n;an(r,b,p)&&u.preventDefault()},i=()=>{var d;const u=n.getSelection();!u||u.toString().trim().length===0||(d=r.sendInstrument)==null||d.call(r,{type:"interaction",label:"copy"})},l=()=>{var u;o||(o=n.setTimeout(()=>{o=void 0},_r),(u=r.sendInstrument)==null||u.call(r,{type:"interaction",label:"scroll"}))},c=u=>{var d;ie=u.target,u.key==="Escape"&&((d=r.notifyEscapeKey)==null||d.call(r))},h=u=>{ie=u.target};n.addEventListener("pointerdown",h,{passive:!0}),n.addEventListener("keydown",c,{passive:!0}),n.addEventListener("click",s,{capture:!0}),n.addEventListener("copy",i,{passive:!0}),n.addEventListener("scroll",l,{passive:!0}),n.document.addEventListener("scroll",l,{capture:!0,passive:!0}),n.open=u=>{if(!u)return null;const{location:d}=n;return an(r,d,u),null}},ee=new URLSearchParams(window.location.search);ee.get("isStorybook");const ds=ee.get("sessionId")??"",se=ee.get("app")??"",Tr=ee.get("deviceType")==="mobile",Ue=Tr&&se==="skybridge",He=ee.get("locale")??"",Or=ee.get("unsafeSkipTargetOriginCheck")==="true",Pn="mobileSkybridge";Ue&&document.documentElement.classList.add(Pn);let $e=null;const Rr=new Set(["requestDisplayMode","sendFollowUpMessage","openExternal","requestPrompt","requestTargetedReply","triggerHaptic"]),Ar=t=>{$e=t},Cr=()=>"userActivation"in window.navigator?window.navigator.userActivation.isActive:!0,X=()=>Oe({isFirstParty:!0,includePrivate:!0}),cn=(t,e,n)=>{var r,o,s,i,l;if(t==="requestDropdown"){const c=(r=sn())==null?void 0:r.getBoundingClientRect();return(o=e.requestDropdown)==null?void 0:o.call(e,{clientX:(c==null?void 0:c.left)??0,clientY:(c==null?void 0:c.top)??0,...n[0]})}if(!Ue&&t==="requestPrompt"){const c=(s=sn())==null?void 0:s.getBoundingClientRect();return(i=e.openPromptInput)==null?void 0:i.call(e,{...n[0],clientX:(c==null?void 0:c.left)??0,clientY:(c==null?void 0:c.top)??0})}return(l=e[t])==null?void 0:l.call(e,...n)},Oe=({isFirstParty:t,includePrivate:e=!1})=>{if(!$e)throw new Error("Host API not published");return new Proxy($e,{get(n,r){if(!(r in n))return console.warn(`Host API property \`${String(r)}\` not found`);const o=r;if(!(!t&&!e&&cr.has(o)))return!t&&Rr.has(o)?(...s)=>Cr()?cn(o,n,s):console.warn(`Method \`${String(o)}\` called without synchronous user event`):typeof n[o]=="function"?(...s)=>cn(o,n,s):n[o]}})},ln=new Ne({max:100,ttl:60*5e3}),Lr=["sediment://","file-service://"],vr="/blank.svg",Ir=({doc:t})=>{const e=t.contentWindow;if(!e)return;const n=Object.getOwnPropertyDescriptor(e.HTMLImageElement.prototype,"src");n&&Object.defineProperty(e.HTMLImageElement.prototype,"src",{set(r){var o,s,i,l,c;if(typeof r=="string"&&Lr.some(h=>r.startsWith(h))){const h=ln.get(r);if(h){(o=n.set)==null||o.call(this,h);return}(s=n.set)==null||s.call(this,vr),(l=(i=X()).getDownloadURL)==null||l.call(i,r).then(u=>{var d;ln.set(r,u),(d=n.set)==null||d.call(this,u)}).catch(()=>{var u;(u=n.set)==null||u.call(this,"")})}else(c=n.set)==null||c.call(this,r)},get:n.get,configurable:!0,enumerable:!0})},Pr=({doc:t})=>{const e=t.contentWindow;!e||!("console"in e)||e.addEventListener("pointerdown",n=>{for(const r of n.composedPath())r instanceof e.HTMLElement&&r.dataset.instrument&&X().sendInstrument({type:"count",label:`clicked.${r.dataset.instrument}`})},{passive:!0,capture:!0})},un=t=>{const e=t.trim().match(/(\d+):(\d+)\)?$/),n=parseInt((e==null?void 0:e.at(1))??""),r=parseInt((e==null?void 0:e.at(2))??"");return{lineno:n,colno:r}},hn=(t,e)=>{var o;const n=[],r=t.split(`
`).slice(1)??[];for(let s=0;s<r.length;s++){const i=r[s],l=e(i);if(!l)break;const{source:c,line:h,column:u}=l;if(!(h==null||u==null))if(c!=null&&c.startsWith("internal")){const d=(o=e(r[s+1]))==null?void 0:o.name;d?n.push({line:h,column:u,formatted:`	at ${d} (module:${h}:${u})`}):n.push({line:h,column:u,formatted:i.replace(/(\(blob:.*\))$/,`(module:${h}:${u})`)})}else break}return n},zr=({doc:t,sandboxLogger:e,onMessage:n,transformPosition:r})=>{const o=t.contentWindow;if(!o||!("console"in o))return;const s=c=>{if(!c)return null;const{lineno:h,colno:u}=un(c);return(r==null?void 0:r({line:h,column:u}))??null};o.addEventListener("unhandledrejection",({reason:c})=>{var h,u;if(typeof c=="object"&&"stack"in c){const d=hn(c.stack,s);n({type:Tt.ERROR,line:((h=d[0])==null?void 0:h.line)??null,error:{line:((u=d[0])==null?void 0:u.line)??null,message:String(c.message??""),name:c.name??"Error",stack:d.map(({formatted:p})=>p)}})}}),o.addEventListener("error",({lineno:c,colno:h,error:u,message:d})=>{var E;const p=((E=r==null?void 0:r({line:c,column:h}))==null?void 0:E.line)??null;let b="",A=[];u&&typeof u=="object"&&"name"in u&&"stack"in u&&(b=u.name,A=hn(u.stack,s).map(({formatted:T})=>T)),(b||d)&&n({type:Tt.ERROR,error:{line:p,message:d,name:b||"Error",stack:A},line:p})},{passive:!0,capture:!0});const i=o.console,l=(c,h)=>(u,...d)=>{var A,E;c(u,...d);let p;if(u&&typeof u=="object"&&"stack"in u&&typeof u.stack=="string"){const T=(A=u.stack)==null?void 0:A.split(`
`);p=(T==null?void 0:T[1])??(T==null?void 0:T[0])}else{const O=(new Error().stack??"").split(`
`);p=O[2]||O[1]}let b=null;if(p){const{lineno:T,colno:w}=un(p);b=((E=r==null?void 0:r({line:T,column:w}))==null?void 0:E.line)??null}try{h({line:b,error:u instanceof Error?u:null,args:u instanceof Error?d:[u,...d]})}catch(T){e.error("Failed to log",T)}};i.error=l(i.error,({line:c,args:h,error:u})=>{n({type:Tt.ERROR,line:c,error:u?{line:c,message:u.message,name:u.name,stack:[]}:{line:c,message:String(h[0]??""),name:"Error",stack:[]}}),h.length&&n({type:Tt.LOG,level:"info",line:c,log:h})}),i.log=l(i.log,({line:c,args:h})=>{n({type:Tt.LOG,level:"info",line:c,log:h})})},Mr=({doc:t})=>{t.contentWindow&&t.contentWindow.addEventListener("securitypolicyviolation",e=>{const n={effectiveDirective:e.effectiveDirective,violatedDirective:e.violatedDirective,blockedURI:e.blockedURI,sourceFile:e.sourceFile};X().notifySecurityPolicyViolation(n)})};function Dr(t){let e=!1;const n=[],r=[];function o(c){n.length>0?n.shift()(c):r.push(c)}function s(c){e||o({value:c,done:!1})}function i(){e||(e=!0,n.forEach(c=>c({value:void 0,done:!0})),n.length=0)}function l(c){e||(o(Promise.reject(c)),i())}try{t(s,i,l)}catch(c){l(c)}return{next(){return new Promise(c=>{r.length>0?c(r.shift()):e?c({value:void 0,done:!0}):n.push(c)})},[Symbol.asyncIterator](){return this}}}const Gt=({root:t=st(),additionalGlobals:e,sandboxLogger:n,isInit:r=!1})=>{var o,s,i;if(t!=null&&t.contentWindow){if(r){t.contentWindow.oai=e,t.contentWindow.openai=e,t.contentWindow.webplus=e;return}(o=t.contentWindow).oai??(o.oai={}),(s=t.contentWindow).openai??(s.openai={}),(i=t.contentWindow).webplus??(i.webplus={});for(const[l,c]of Object.entries(e))try{t.contentWindow.oai[l]=c,t.contentWindow.openai[l]=c,t.contentWindow.webplus[l]=c}catch(h){n.environmentError(h)}Fr(t.contentWindow,e)}},Fr=(t,e)=>{t.dispatchEvent(new ur(e)),t.dispatchEvent(new lr(e))},xr=t=>t?t<0?"pop":"push":"update",zn=({doc:t})=>{const e=t.contentWindow;if(!e)return;const{history:n}=e;let r=[],o=[],s=-1,i=0,l=null;const c=()=>e.location.hash??"",h=S=>{if(!S)return"";try{return new URL(S,e.location.href).hash??""}catch{return""}},u=()=>(i+=1,i),d=()=>{if(r.length===0){r=[u()],o=[c()],s=0;return}o.length===0&&(o=[c()])},p=S=>{var I,N;!r.length||s<0||(N=(I=X()).notifyNavigation)==null||N.call(I,{type:S,canGoBack:s>0,canGoForward:s<r.length-1})},b=(S,I=c())=>{d(),s<r.length-1&&(r=r.slice(0,s+1),o=o.slice(0,s+1)),r=[...r,u()],o=[...o,I],s=r.length-1,l=null,p(S)},A=(S=c())=>{d(),s>=0&&(r[s]=u(),o[s]=S),l=null,p("replace")},E=S=>{if(d(),!r.length)return;const I=typeof S=="number"&&Number.isFinite(S)?Math.trunc(S):0;I!==0&&(s=Math.min(r.length-1,Math.max(0,s+I))),l=null,p(xr(I))},T=()=>{E(l??-1)},w=S=>{const I=c();if(l!=null){E(l);return}d();const N=h(S==null?void 0:S.oldURL),K=o.lastIndexOf(I);if(K!==-1&&K!==s){E(K-s);return}if(K===s){p("update");return}if(N&&o[s]===N){A(I);return}b("push",I)},O=n.pushState.bind(n);n.pushState=function(...S){const I=O(...S);return b("push"),I};const f=n.replaceState.bind(n);n.replaceState=function(...S){const I=f(...S);return A(),I};const m=n.back.bind(n);n.back=function(...S){return l=-1,m(...S)};const L=n.forward.bind(n);n.forward=function(...S){return l=1,L(...S)};const P=n.go.bind(n);n.go=function(...S){const[I=0]=S,N=typeof I=="number"&&Number.isFinite(I)?Math.trunc(I):Number.parseInt(String(I),10);return l=Number.isFinite(N)?N:null,P(...S)},n.popToRoot=function(){d();const S=-s;if(S===0){l=null;return}return l=S,P(S)},e.addEventListener("popstate",T),e.addEventListener("hashchange",w),d(),p("replace")},Nr={go:t=>{var e,n;(n=(e=st())==null?void 0:e.contentWindow)==null||n.history.go(t)},popToRoot:()=>{var t,e,n,r;(r=(n=(e=(t=st())==null?void 0:t.contentWindow)==null?void 0:e.history).popToRoot)==null||r.call(n)}},Br=Object.freeze(Object.defineProperty({__proto__:null,navigation:Nr,useNavigation:zn},Symbol.toStringTag,{value:"Module"})),Mn=({doc:t=st(),safeArea:e})=>{var c;const n=(c=t==null?void 0:t.contentDocument)==null?void 0:c.documentElement;if(!n)return;const{insets:r}=e,{top:o,bottom:s,left:i,right:l}=r;n.style.setProperty("--safe-area-inset-top",`${o}px`),n.style.setProperty("--safe-area-inset-bottom",`${s}px`),n.style.setProperty("--safe-area-inset-left",`${i}px`),n.style.setProperty("--safe-area-inset-right",`${l}px`)},Dn=({theme:t,doc:e=st()})=>{var r;const n=(r=e==null?void 0:e.contentDocument)==null?void 0:r.documentElement;n&&(n.dataset.theme=t,n.classList.remove("light","dark"),n.classList.add(t))},Gr="html,body,#root{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0;padding:0}html,body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Helvetica Neue,Arial,sans-serif!important}button,input,textarea,select{font-family:inherit}html{background-color:#fff}html.dark{background-color:#212121}html.mobileSkybridge.dark{background-color:#000}@supports (font: -apple-system-body){html.mobileSkybridge{font:-apple-system-body}}",Wr=t=>{try{const e=t.createElement("style");e.textContent=Gr.trim(),t.head.appendChild(e),Ue&&t.documentElement.classList.add(Pn)}catch{}};async function*Xe({sandboxLogger:t,features:e,html:n,theme:r,safeArea:o,transformPosition:s,additionalGlobals:i,expectReadySignal:l,isFirstParty:c=!1,measureWidth:h=!1,measureHeight:u=!1,disableMutationObserver:d=!1}){let p=null,b=null;yield*Dr((A,E)=>{const T=m=>{A(m),m.type===Tt.RUN_COMPLETE&&E()};t.time("html.evaluation");const w=st(),O=dr(e),f=()=>{if(!O.contentDocument||!O.contentWindow)return;const m=O.contentDocument;(i||o)&&Gt({root:O,additionalGlobals:Object.assign(i??{},{safeArea:o}),sandboxLogger:t,isInit:!0}),m.open(),Sr({doc:O,isFirstParty:c}),zn({doc:O}),Mr({doc:O}),Pr({doc:O}),zr({doc:O,sandboxLogger:t,transformPosition:s,onMessage:T}),Ir({doc:O});let L=null,P=null,S=null;const I=()=>{w==null||w.remove(),t.timeEnd("html.evaluation"),T({type:Tt.ENVIRONMENT_STATUS,status:Rn.RUNNING_CODE})},N=()=>{p==null||p.disconnect(),b==null||b.disconnect(),T({type:Tt.RUN_COMPLETE,duration:null,wasCancelled:!1,wasFatalError:!0})},K=()=>{var U,at;if(!u)return;const V=br(m);V&&V!==P&&((at=(U=X()).notifyIntrinsicHeight)==null||at.call(U,V),P=V)},nt=()=>{var U,at;if(!h)return;const V=wr(m);V&&V!==S&&((at=(U=X()).notifyIntrinsicWidth)==null||at.call(U,V),S=V)},ye=()=>{var U,at;const V=mr(m);V!=null&&V!==L&&((at=(U=X()).notifyBackgroundColor)==null||at.call(U,V),L=V)};m.write(n);const xt=m.documentElement;Wr(m),b=new ResizeObserver(()=>{K(),nt()}),p=new MutationObserver(V=>{for(const U of V)if(U.target===xt){if(U.attributeName==="data-ready"&&xt.hasAttribute("data-ready")){I();break}else if(U.attributeName==="data-fatal"&&xt.hasAttribute("data-fatal")){N();break}}else if(U.addedNodes.length===0&&U.removedNodes.length>0&&U.target.parentElement===m.body&&U.target.childNodes.length===0&&Array.from(m.body.childNodes).every(at=>at===U.target||jr(at))){N();break}ye(),K(),nt()}),He&&(xt.lang=He),r&&Dn({theme:r,doc:O}),o&&Mn({doc:O,safeArea:o}),b.observe(xt,{box:"border-box"}),d||p.observe(xt,{childList:!0,attributes:!0,subtree:!0}),m.close(),l||I(),xt.hasAttribute("data-ready")&&I()};O.addEventListener("load",f,{once:!0}),O.src="about:blank"})}function jr(t){var e;return t.nodeType===Node.COMMENT_NODE?!0:t.nodeType===Node.TEXT_NODE?!((e=t.textContent)!=null&&e.trim()):t.nodeType===Node.ELEMENT_NODE?t.childNodes.length===0:!0}const fs=Object.freeze(Object.defineProperty({__proto__:null,runHTMLAsync:Xe},Symbol.toStringTag,{value:"Module"})),Fn=({widgetId:t,globals:e,sandboxLogger:n})=>{const{toolInput:r,toolOutput:o,toolResponseMetadata:s,widgetState:i,subjectId:l=null}=e;let c=i;return{toolInput:r,toolOutput:o,toolResponseMetadata:s,widgetState:i,subjectId:l,setWidgetState:h=>{var d,p;const u=typeof h=="function"?h(c):h;return c=u,Gt({additionalGlobals:{widgetState:u},sandboxLogger:n}),(p=(d=X())==null?void 0:d.updateWidgetState)==null?void 0:p.call(d,t,u)}}},xn=({displayMode:t,viewParams:e})=>({displayMode:t,view:{params:e??null,mode:t}});async function*Hr(t,{html:e,isFirstParty:n,widgetId:r,widgetState:o,viewParams:s,maxHeight:i,maxWidth:l,toolInput:c,toolOutput:h,toolResponseMetadata:u,subjectId:d=null,displayMode:p,measureWidth:b,theme:A,userAgent:E,safeArea:T,features:w,csp:O}){try{ar(O)}catch(m){throw t.error("Failed to apply CSP",m),m}let f;try{f=Oe({isFirstParty:n,includePrivate:!1}),f.displayMode=p,f.maxHeight=i,f.maxWidth=l,f.theme=A,f.locale=He,f.userAgent=E,f.widget={state:o,props:h,setState:m=>{var L,P;return console.warn("window.openai.widget is deprecated. It will be removed in future versions"),(P=(L=X())==null?void 0:L.updateWidgetState)==null?void 0:P.call(L,r,m)}},Object.assign(f,Fn({widgetId:r,globals:{toolInput:c,toolOutput:h,toolResponseMetadata:u,widgetState:o,subjectId:d},sandboxLogger:t}),xn({displayMode:p,viewParams:s}))}catch{}yield*Xe({sandboxLogger:t,html:e,theme:A,features:w,additionalGlobals:f,safeArea:T,transformPosition:null,expectReadySignal:!1,isFirstParty:n,measureHeight:!0,measureWidth:b,disableMutationObserver:n&&!b})}function $r(t,e="<unknown>"){if(t==null)throw new Error(`${e}: unexpected nullish value: ${JSON.stringify(t)}`);return t}var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ps(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ke={},fe={},pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.cast=Ur;pe.get=Xr;pe.set=Vr;const kr=2**32;function Ur(t){return t<0?t+kr:t}function Xr(t,e){return t>>e&255}function Vr(t,e,n){return t^(t^n<<e)&255<<e}(function(t){var e=z&&z.__createBinding||(Object.create?function(f,m,L,P){P===void 0&&(P=L);var S=Object.getOwnPropertyDescriptor(m,L);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[L]}}),Object.defineProperty(f,P,S)}:function(f,m,L,P){P===void 0&&(P=L),f[P]=m[L]}),n=z&&z.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),r=z&&z.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var L in f)L!=="default"&&Object.prototype.hasOwnProperty.call(f,L)&&e(m,f,L);return n(m,f),m};Object.defineProperty(t,"__esModule",{value:!0}),t.OFFSET_A=t.OFFSET_B=t.OFFSET_G=t.OFFSET_R=void 0,t.newColor=c,t.from=h,t.toNumber=u,t.getRed=d,t.getGreen=p,t.getBlue=b,t.getAlpha=A,t.setRed=E,t.setGreen=T,t.setBlue=w,t.setAlpha=O;const o=r(pe),{cast:s,get:i,set:l}=o;t.OFFSET_R=24,t.OFFSET_G=16,t.OFFSET_B=8,t.OFFSET_A=0;function c(f,m,L,P){return(f<<t.OFFSET_R)+(m<<t.OFFSET_G)+(L<<t.OFFSET_B)+(P<<t.OFFSET_A)}function h(f){return c(i(f,t.OFFSET_R),i(f,t.OFFSET_G),i(f,t.OFFSET_B),i(f,t.OFFSET_A))}function u(f){return s(f)}function d(f){return i(f,t.OFFSET_R)}function p(f){return i(f,t.OFFSET_G)}function b(f){return i(f,t.OFFSET_B)}function A(f){return i(f,t.OFFSET_A)}function E(f,m){return l(f,t.OFFSET_R,m)}function T(f,m){return l(f,t.OFFSET_G,m)}function w(f,m){return l(f,t.OFFSET_B,m)}function O(f,m){return l(f,t.OFFSET_A,m)}})(fe);var ge={},F={};Object.defineProperty(F,"__esModule",{value:!0});F.labToXyzd50=oo;F.xyzd50ToLab=so;F.oklabToXyzd65=Wn;F.xyzd65ToOklab=jn;F.lchToLab=Hn;F.labToLch=$n;F.displayP3ToXyzd50=io;F.xyzd50ToDisplayP3=ao;F.proPhotoToXyzd50=co;F.xyzd50ToProPhoto=lo;F.adobeRGBToXyzd50=uo;F.xyzd50ToAdobeRGB=ho;F.rec2020ToXyzd50=fo;F.xyzd50ToRec2020=po;F.xyzd50ToD65=kn;F.xyzd65ToD50=Un;F.xyzd65TosRGBLinear=go;F.xyzd50TosRGBLinear=mo;F.srgbLinearToXyzd50=yo;F.srgbToXyzd50=bo;F.xyzd50ToSrgb=wo;F.oklchToXyzd50=Eo;F.xyzd50ToOklch=_o;const Nn=.9642,Bn=1,Gn=.8251;function H(t,e){const n=[0,0,0];for(let r=0;r<3;++r)n[r]=t[r][0]*e[0]+t[r][1]*e[1]+t[r][2]*e[2];return n}class Ot{constructor(e,n,r=0,o=0,s=0,i=0,l=0){R(this,"g");R(this,"a");R(this,"b");R(this,"c");R(this,"d");R(this,"e");R(this,"f");this.g=e,this.a=n,this.b=r,this.c=o,this.d=s,this.e=i,this.f=l}eval(e){const n=e<0?-1:1,r=e*n;return r<this.d?n*(this.c*r+this.f):n*(Math.pow(this.a*r+this.b,this.g)+this.e)}}const bt={sRGB:new Ot(2.4,1/1.055,.055/1.055,1/12.92,.04045,0,0),sRGB_INVERSE:new Ot(.416667,1.13728,-0,12.92,.0031308,-.0549698,-0),proPhotoRGB:new Ot(1.8,1),proPhotoRGB_INVERSE:new Ot(.555556,1,-0,0,0,0,0),k2Dot2:new Ot(2.2,1),k2Dot2_INVERSE:new Ot(.454545,1),rec2020:new Ot(2.22222,.909672,.0903276,.222222,.0812429,0,0),rec2020_INVERSE:new Ot(.45,1.23439,-0,4.5,.018054,-.0993195,-0)},wt={sRGB:[[.436065674,.385147095,.143066406],[.222488403,.716873169,.06060791],[.013916016,.097076416,.714096069]],sRGB_INVERSE:[[3.134112151374599,-1.6173924597114966,-.4906334036481285],[-.9787872938826594,1.9162795854799963,.0334547139520088],[.07198304248352326,-.2289858493321844,1.4053851325241447]],displayP3:[[.515102,.291965,.157153],[.241182,.692236,.0665819],[-.00104941,.0418818,.784378]],displayP3_INVERSE:[[2.404045155982687,-.9898986932663839,-.3976317191366333],[-.8422283799266768,1.7988505115115485,.016048170293157416],[.04818705979712955,-.09737385156228891,1.2735066448052303]],adobeRGB:[[.60974,.20528,.14919],[.31111,.62567,.06322],[.01947,.06087,.74457]],adobeRGB_INVERSE:[[1.9625385510109137,-.6106892546501431,-.3413827467482388],[-.9787580455521,1.9161624707082339,.03341676594241408],[.028696263137883395,-.1406807819331586,1.349252109991369]],rec2020:[[.673459,.165661,.1251],[.279033,.675338,.0456288],[-.00193139,.0299794,.797162]],rec2020_INVERSE:[[1.647275201661012,-.3936024771460771,-.23598028884792507],[-.6826176165196962,1.647617775014935,.01281626807852422],[.029662725298529837,-.06291668721366285,1.2533964313435522]],xyz:[[1,0,0],[0,1,0],[0,0,1]]};function dn(t){return t*(Math.PI/180)}function qr(t){return t*(180/Math.PI)}function Et(t,e,n,r){return[t.eval(e),t.eval(n),t.eval(r)]}const Yr=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],Zr=[[.2104542553,.7936177849999999,-.0040720468],[1.9779984951000003,-2.4285922049999997,.4505937099000001],[.025904037099999982,.7827717662,-.8086757660000001]],Kr=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],Jr=[[1.226879873374156,-.5578149965554814,.2813910501772159],[-.040575762624313734,1.1122868293970596,-.07171106666151703],[-.07637294974672144,-.4214933239627915,1.586924024427242]],Qr=[[.7976700747153241,.13519395152800417,.03135596341127167],[.28803902352472205,.7118744007923554,8661179538844252e-20],[2739876695467402e-22,-14405226518969991e-22,.825211112593861]],to=[[1.3459533710138858,-.25561367037652133,-.051116041522131374],[-.544600415668951,1.5081687311475767,.020535163968720935],[-13975622054109725e-22,2717590904589903e-21,1.2118111696814942]],eo=[[1.0478573189120088,.022907374491829943,-.050162247377152525],[.029570500050499514,.9904755577034089,-.017061518194840468],[-.00924047197558879,.015052921526981566,.7519708530777581]],no=[[.9555366447632887,-.02306009252137888,.06321844147263304],[-.028315378228764922,1.009951351591575,.021026001591792402],[.012308773293784308,-.02050053471777469,1.3301947294775631]],ro=[[3.2408089365140573,-1.5375788839307314,-.4985609572551541],[-.9692732213205414,1.876110235238969,.041560501141251774],[.05567030990267439,-.2040007921971802,1.0571046720577026]];function oo(t,e,n){let r=(t+16)/116,o=r+e/500,s=r-n/200;function i(l){return l<=.20689655172413793?108/841*(l-16/116):l*l*l}return o=i(o)*Nn,r=i(r)*Bn,s=i(s)*Gn,[o,r,s]}function so(t,e,n){function r(l){return l<=.008856451679035631?841/108*l+16/116:Math.pow(l,1/3)}t=r(t/Nn),e=r(e/Bn),n=r(n/Gn);const o=116*e-16,s=500*(t-e),i=200*(e-n);return[o,s,i]}function Wn(t,e,n){const o=H(Yr,[t,e,n]);return o[0]=o[0]*o[0]*o[0],o[1]=o[1]*o[1]*o[1],o[2]=o[2]*o[2]*o[2],H(Jr,o)}function jn(t,e,n){const o=H(Kr,[t,e,n]);o[0]=Math.pow(o[0],1/3),o[1]=Math.pow(o[1],1/3),o[2]=Math.pow(o[2],1/3);const s=H(Zr,o);return[s[0],s[1],s[2]]}function Hn(t,e,n){return n===void 0?[t,0,0]:[t,e*Math.cos(dn(n)),e*Math.sin(dn(n))]}function $n(t,e,n){return[t,Math.sqrt(e*e+n*n),qr(Math.atan2(n,e))]}function io(t,e,n){const[r,o,s]=Et(bt.sRGB,t,e,n),i=[r,o,s];return H(wt.displayP3,i)}function ao(t,e,n){const r=[t,e,n],o=H(wt.displayP3_INVERSE,r);return Et(bt.sRGB_INVERSE,o[0],o[1],o[2])}function co(t,e,n){const[r,o,s]=Et(bt.proPhotoRGB,t,e,n);return H(Qr,[r,o,s])}function lo(t,e,n){const o=H(to,[t,e,n]);return Et(bt.proPhotoRGB_INVERSE,o[0],o[1],o[2])}function uo(t,e,n){const[r,o,s]=Et(bt.k2Dot2,t,e,n),i=[r,o,s];return H(wt.adobeRGB,i)}function ho(t,e,n){const r=[t,e,n],o=H(wt.adobeRGB_INVERSE,r);return Et(bt.k2Dot2_INVERSE,o[0],o[1],o[2])}function fo(t,e,n){const[r,o,s]=Et(bt.rec2020,t,e,n),i=[r,o,s];return H(wt.rec2020,i)}function po(t,e,n){const r=[t,e,n],o=H(wt.rec2020_INVERSE,r);return Et(bt.rec2020_INVERSE,o[0],o[1],o[2])}function kn(t,e,n){return H(no,[t,e,n])}function Un(t,e,n){return H(eo,[t,e,n])}function go(t,e,n){return H(ro,[t,e,n])}function mo(t,e,n){const r=[t,e,n];return H(wt.sRGB_INVERSE,r)}function yo(t,e,n){const r=[t,e,n];return H(wt.sRGB,r)}function bo(t,e,n){const[r,o,s]=Et(bt.sRGB,t,e,n),i=[r,o,s];return H(wt.sRGB,i)}function wo(t,e,n){const r=[t,e,n],o=H(wt.sRGB_INVERSE,r);return Et(bt.sRGB_INVERSE,o[0],o[1],o[2])}function Eo(t,e,n){const[r,o,s]=Hn(t,e,n),[i,l,c]=Wn(r,o,s);return Un(i,l,c)}function _o(t,e,n){const[r,o,s]=kn(t,e,n),[i,l,c]=jn(r,o,s);return $n(i,l,c)}var So=z&&z.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),To=z&&z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oo=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&So(e,t,n);return To(e,t),e};Object.defineProperty(ge,"__esModule",{value:!0});ge.parse=Io;ge.parseHex=Xn;ge.parseColor=Vn;const ae=fe,x=Oo(F),Ro=35,Re=37,Ao=103,me=110,Co=100,Lo=101,vo=(()=>{const t="(\\w+)",e="[\\s,\\/]",n="([^\\s,\\/]+)",r=`(?:${e}+${n})`;return new RegExp(`${t}\\(
      ${e}*
      ${n}
      ${r}
      ${r}
      ${r}?
      ${r}?
      ${e}*
    \\)`.replace(/\s/g,""))})();function Io(t){return t.charCodeAt(0)===Ro?Xn(t):Vn(t)}function Xn(t){let e=0,n=0,r=0,o=255;switch(t.length){case 4:{e=(G(t.charCodeAt(1))<<4)+G(t.charCodeAt(1)),n=(G(t.charCodeAt(2))<<4)+G(t.charCodeAt(2)),r=(G(t.charCodeAt(3))<<4)+G(t.charCodeAt(3));break}case 7:{e=(G(t.charCodeAt(1))<<4)+G(t.charCodeAt(2)),n=(G(t.charCodeAt(3))<<4)+G(t.charCodeAt(4)),r=(G(t.charCodeAt(5))<<4)+G(t.charCodeAt(6));break}case 9:{e=(G(t.charCodeAt(1))<<4)+G(t.charCodeAt(2)),n=(G(t.charCodeAt(3))<<4)+G(t.charCodeAt(4)),r=(G(t.charCodeAt(5))<<4)+G(t.charCodeAt(6)),o=(G(t.charCodeAt(7))<<4)+G(t.charCodeAt(8));break}}return(0,ae.newColor)(e,n,r,o)}function G(t){return(t&15)+9*(t>>6)}function Vn(t){const e=vo.exec(t);if(e===null)throw new Error(`Color.parse(): invalid CSS color: "${t}"`);const n=e[1],r=e[2],o=e[3],s=e[4],i=e[5],l=e[6];switch(n){case"rgb":case"rgba":{const c=Ie(r),h=Ie(o),u=Ie(s),d=i?Rt(i):255;return(0,ae.newColor)(c,h,u,d)}case"hsl":case"hsla":{const c=Pe(r),h=we(o),u=we(s),d=i?Rt(i):255;let p,b,A;if(h===0)p=b=A=Math.round(u*255);else{const E=u<.5?u*(1+h):u+h-u*h,T=2*u-E;p=Math.round(Yt(T,E,c+1/3)*255),b=Math.round(Yt(T,E,c)*255),A=Math.round(Yt(T,E,c-1/3)*255)}return(0,ae.newColor)(p,b,A,d)}case"hwb":{const c=Pe(r),h=we(o),u=we(s),d=i?Rt(i):255,p=1,b=.5,A=b+p-b*p,E=2*b-A;let T=Math.round(Yt(E,A,c+1/3)*255),w=Math.round(Yt(E,A,c)*255),O=Math.round(Yt(E,A,c-1/3)*255);return T=ze(T,h,u),w=ze(w,h,u),O=ze(O,h,u),(0,ae.newColor)(T,w,O,d)}case"lab":{const c=At(r,100),h=At(o,125),u=At(s,125),d=i?Rt(i):255;return rt(d,x.xyzd50ToSrgb(...x.labToXyzd50(c,h,u)))}case"lch":{const c=At(r,100),h=At(o,150),u=Pe(s)*360,d=i?Rt(i):255;return rt(d,x.xyzd50ToSrgb(...x.labToXyzd50(...x.lchToLab(c,h,u))))}case"oklab":{const c=At(r,1),h=At(o,.4),u=At(s,.4),d=i?Rt(i):255;return rt(d,x.xyzd50ToSrgb(...x.xyzd65ToD50(...x.oklabToXyzd65(c,h,u))))}case"oklch":{const c=qt(r),h=qt(o),u=qt(s),d=i?Rt(i):255;return rt(d,x.xyzd50ToSrgb(...x.oklchToXyzd50(c,h,u)))}case"color":{const c=r,h=qt(o),u=qt(s),d=qt(i),p=l?Rt(l):255;switch(c){case"srgb":return rt(p,[h,u,d]);case"srgb-linear":return rt(p,x.xyzd50ToSrgb(...x.srgbLinearToXyzd50(h,u,d)));case"display-p3":return rt(p,x.xyzd50ToSrgb(...x.displayP3ToXyzd50(h,u,d)));case"a98-rgb":return rt(p,x.xyzd50ToSrgb(...x.adobeRGBToXyzd50(h,u,d)));case"prophoto-rgb":return rt(p,x.xyzd50ToSrgb(...x.proPhotoToXyzd50(h,u,d)));case"rec2020":return rt(p,x.xyzd50ToSrgb(...x.rec2020ToXyzd50(h,u,d)));case"xyz":case"xyz-d65":return rt(p,x.xyzd50ToSrgb(...x.xyzd65ToD50(h,u,d)));case"xyz-d50":return rt(p,x.xyzd50ToSrgb(h,u,d))}}}throw new Error(`Color.parse(): invalid CSS color: "${t}"`)}function Ie(t){return t.charCodeAt(t.length-1)===Re?Math.round(parseFloat(t)/100*255):Math.round(parseFloat(t))}function Rt(t){return Math.round(Po(t)*255)}function Po(t){return t.charCodeAt(0)===me?0:t.charCodeAt(t.length-1)===Re?parseFloat(t)/100:parseFloat(t)}function Pe(t){let e=1;switch(t.charCodeAt(t.length-1)){case Lo:return 0;case Co:{t.charCodeAt(Math.max(0,t.length-4))===Ao?e=400:e=2*Math.PI;break}case me:{e=1;break}default:e=360}return parseFloat(t)/e}function we(t){return t.charCodeAt(0)===me?0:parseFloat(t)/100}function qt(t){return t.charCodeAt(0)===me?0:t.charCodeAt(t.length-1)===Re?parseFloat(t)/100:parseFloat(t)}function At(t,e){return t.charCodeAt(0)===me?0:t.charCodeAt(t.length-1)===Re?parseFloat(t)/100*e:parseFloat(t)}function Yt(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ze(t,e,n){let r=t/255;return r*=1-e-n,r+=e,Math.round(r*255)}function Me(t){return Math.max(0,Math.min(255,t))}function rt(t,e){const n=Me(Math.round(e[0]*255)),r=Me(Math.round(e[1]*255)),o=Me(Math.round(e[2]*255));return(0,ae.newColor)(n,r,o,t)}var it={},zo=z&&z.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Mo=z&&z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Do=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&zo(e,t,n);return Mo(e,t),e};Object.defineProperty(it,"__esModule",{value:!0});it.format=void 0;it.formatHEXA=qn;it.formatHEX=xo;it.formatRGBA=No;it.toRGBA=Bo;it.formatHSLA=Go;it.toHSLA=Wo;it.formatHWBA=jo;it.toHWBA=Ho;const Fo=Do(fe),{getRed:Mt,getGreen:Dt,getBlue:Ft,getAlpha:Ut}=Fo,B=[0,0,0],jt=Array.from({length:256}).map((t,e)=>e.toString(16).padStart(2,"0"));it.format=qn;function qn(t){return"#"+jt[Mt(t)]+jt[Dt(t)]+jt[Ft(t)]+jt[Ut(t)]}function xo(t){return"#"+jt[Mt(t)]+jt[Dt(t)]+jt[Ft(t)]}function No(t){return`rgba(${Mt(t)} ${Dt(t)} ${Ft(t)} / ${Ut(t)/255})`}function Bo(t){return{r:Mt(t),g:Dt(t),b:Ft(t),a:Ut(t)}}function Go(t){Yn(Mt(t),Dt(t),Ft(t));const e=B[0],n=B[1],r=B[2],o=Ut(t)/255;return`hsla(${e} ${n}% ${r}% / ${o})`}function Wo(t){Yn(Mt(t),Dt(t),Ft(t));const e=B[0],n=B[1],r=B[2],o=Ut(t)/255;return{h:e,s:n,l:r,a:o}}function jo(t){Zn(Mt(t),Dt(t),Ft(t));const e=B[0],n=B[1],r=B[2],o=Ut(t)/255;return`hsla(${e} ${n}% ${r}% / ${o})`}function Ho(t){Zn(Mt(t),Dt(t),Ft(t));const e=B[0],n=B[1],r=B[2],o=Ut(t)/255;return{h:e,w:n,b:r,a:o}}function Yn(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),o=r-Math.min(t,e,n),s=o?r===t?(e-n)/o:r===e?2+(n-t)/o:4+(t-e)/o:0;B[0]=60*s<0?60*s+360:60*s,B[1]=100*(o?r<=.5?o/(2*r-o):o/(2-(2*r-o)):0),B[2]=100*(2*r-o)/2}function Zn(t,e,n){t/=255,e/=255,n/=255;const r=Math.min(t,e,n),o=Math.max(t,e,n),s=1-o;if(o===r){B[0]=0,B[1]=r,B[2]=s;return}let i=t===r?e-n:e===r?n-t:t-e,l=t===r?3:e===r?5:1;B[0]=(l-i/(o-r))/6,B[1]=r,B[2]=s}var Xt={},$o=z&&z.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ko=z&&z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uo=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&$o(e,t,n);return ko(e,t),e};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.alpha=qo;Xt.darken=Yo;Xt.lighten=Zo;Xt.blend=Ko;Xt.getLuminance=Jo;const Xo=Uo(fe),{getRed:ce,getGreen:le,getBlue:ue,getAlpha:Kn,setAlpha:Vo,newColor:Ve}=Xo;function qo(t,e){return Vo(t,Math.round(e*255))}function Yo(t,e){const n=ce(t),r=le(t),o=ue(t),s=Kn(t),i=1-e;return Ve(n*i,r*i,o*i,s)}function Zo(t,e){const n=ce(t),r=le(t),o=ue(t),s=Kn(t);return Ve(n+(255-n)*e,r+(255-r)*e,o+(255-o)*e,s)}function Ko(t,e,n,r=1){const o=(c,h)=>Math.round((c**(1/r)*(1-n)+h**(1/r)*n)**r),s=o(ce(t),ce(e)),i=o(le(t),le(e)),l=o(ue(t),ue(e));return Ve(s,i,l,255)}function Jo(t){const e=ce(t)/255,n=le(t)/255,r=ue(t)/255,o=c=>c<=.03928?c/12.92:((c+.055)/1.055)**2.4,s=o(e),i=o(n),l=o(r);return Math.round((.2126*s+.7152*i+.0722*l)*1e3)/1e3}(function(t){var e=z&&z.__createBinding||(Object.create?function(r,o,s,i){i===void 0&&(i=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,i,l)}:function(r,o,s,i){i===void 0&&(i=s),r[i]=o[s]}),n=z&&z.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fe,t),n(ge,t),n(it,t),n(Xt,t)})(ke);function Ct(t,e=document.documentElement){var o;if((o=window.CSS)!=null&&o.number)return CSSNumericValue.parse(t).to("px").value;const n=document.createElement("div");n.style.all="initial",n.style.position="absolute",n.style.width=t,e.appendChild(n);const r=n.getBoundingClientRect().width;return e.removeChild(n),r}const _t=4,Qo=8;function fn(t){const{borderWidth:e,borderRadius:n,backgroundColor:r,paddingLeft:o,paddingRight:s,paddingTop:i,paddingBottom:l}=getComputedStyle(t),c=t.getBoundingClientRect(),h=ke.getAlpha(ke.parse(r))===0,u=Ct(e)>0,d=Ct(n),p=d?d+_t:Qo;return h&&!u?{x:c.x+Ct(o)-_t,y:c.y+Ct(i)-_t,width:c.width-Ct(o)-Ct(s)+_t*2,height:c.height-Ct(i)-Ct(l)+_t*2,borderRadius:p}:{x:c.x-_t,y:c.y-_t,width:c.width+_t*2,height:c.height+_t*2,borderRadius:p}}const ts=t=>{var n,r,o;const e=(o=(r=(n=st())==null?void 0:n.contentDocument)==null?void 0:r.defaultView)==null?void 0:o.HTMLElement;return t instanceof HTMLElement||!!e&&t instanceof e},es=t=>{const{sourceName:e,sourcePos:n}=t.dataset;if(!e||!n)return null;const[r,o]=n.split("-"),[s,i]=r.split(":"),[l,c]=o.split(":");return{id:`${e}:${s}:${i}`,name:e,element:t,location:{start:{line:Number(s),col:Number(i)},end:{line:Number(l),col:Number(c)}}}};function pn(t){const e=t.composedPath();for(const n of e){if(!ts(n))continue;const r=es(n);if(r)return r}return null}class ns{constructor(){R(this,"window");R(this,"selectedComponent",null);R(this,"hoveredComponent",null);R(this,"frame",null);R(this,"getBoundingBoxes",()=>{let e=null,n=[];if(this.hoveredComponent){const{element:r}=this.hoveredComponent;e={component:{id:this.hoveredComponent.id,name:this.hoveredComponent.name,location:this.hoveredComponent.location},rect:fn(r)}}if(this.selectedComponent){const{element:r}=this.selectedComponent;n=[{component:{id:this.selectedComponent.id,name:this.selectedComponent.name,location:this.selectedComponent.location},rect:fn(r)}]}return{hovered:e,selected:n}});R(this,"measure",()=>{this.frame=requestAnimationFrame(()=>{var e,n;(n=(e=X()).drawBoundingBoxes)==null||n.call(e,this.getBoundingBoxes())})});R(this,"handleMouseOver",e=>{const n=pn(e);this.hoveredComponent=n,this.measure()});R(this,"handlePointerDown",e=>{e.preventDefault(),e.stopPropagation()});R(this,"handleClick",e=>{e.stopPropagation(),e.preventDefault();const n=pn(e);this.selectedComponent=n,this.measure()});R(this,"destroy",()=>{this.removeMouseListeners(),this.window.removeEventListener("scroll",this.measure,{capture:!0}),this.window.removeEventListener("resize",this.measure,{capture:!0}),this.frame!=null&&cancelAnimationFrame(this.frame)});R(this,"enable",()=>{this.removeMouseListeners(),this.window.addEventListener("mouseover",this.handleMouseOver,{passive:!0,capture:!0}),this.window.addEventListener("pointerdown",this.handlePointerDown,{capture:!0}),this.window.addEventListener("click",this.handleClick,{capture:!0})});R(this,"disable",()=>{this.removeMouseListeners()});R(this,"removeMouseListeners",()=>{this.window.removeEventListener("mouseover",this.handleMouseOver,{capture:!0}),this.window.removeEventListener("pointerdown",this.handlePointerDown,{capture:!0}),this.window.removeEventListener("click",this.handleClick,{capture:!0})});var e;this.window=$r((e=st())==null?void 0:e.contentWindow),this.window.addEventListener("scroll",this.measure,{capture:!0}),this.window.addEventListener("resize",this.measure,{capture:!0})}}const rs=(t,...e)=>{};class ot{constructor(){R(this,"pendingTimers",new Map)}log(e,...n){rs(e,...n)}error(e,n){console.error("[sandbox]",e,n),X().sendInstrument({type:"error",message:e,error:n})}environmentError(e){if(console.error("[sandbox]",e),e instanceof Error){const{name:r,message:o,stack:s}=e;X().notifyEnvironmentError({name:r,message:o,stack:s});return}const{stack:n}=new Error;try{X().notifyEnvironmentError({name:"Unknown environment error",message:JSON.stringify(e),stack:n})}catch{X().notifyEnvironmentError({name:"Unknown environment error",message:"Failed to stringify error",stack:n})}}count(e,n,r){X().sendInstrument({type:"count",label:e,tags:r,count:n})}time(e){this.pendingTimers.has(e),this.pendingTimers.set(e,performance.now())}timeEnd(e){if(!this.pendingTimers.has(e))return;const n=performance.now(),r=n-(this.pendingTimers.get(e)??n);this.pendingTimers.delete(e),X().sendInstrument({type:"hist",label:e,value:r})}}function os(t){const n=qe(t,new WeakMap);try{return structuredClone(n)}catch{}return n}function qe(t,e){if(t===null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return t;if(typeof t=="symbol"||typeof t=="function"||typeof t>"u")return String(t);if(e.has(t))return e.get(t);try{return structuredClone(t)}catch{}const n=Object.prototype.toString.call(t);if(n==="[object Date]")return new Date(t.getTime());if(n==="[object RegExp]")return ss(t);if(n==="[object ArrayBuffer]")return t.slice(0);if(n==="[object DataView]"){const o=t,s=qe(o.buffer,e);try{return new DataView(s,o.byteOffset,o.byteLength)}catch{return String(t)}}if(ArrayBuffer.isView(t)&&!(t instanceof DataView))try{const o=t.constructor;if(typeof t.slice=="function")return t.slice();const s=new o(t.length);return s.set(t),s}catch{return String(t)}if(n==="[object Map]"){const o=new Map;e.set(t,o);for(const[s,i]of t)o.set(Bt(s,e),Bt(i,e));return o}if(n==="[object Set]"){const o=new Set;e.set(t,o);for(const s of t)o.add(Bt(s,e));return o}if(typeof Blob<"u"&&t instanceof Blob)try{return typeof File<"u"&&t instanceof File?new File([t],t.name,{type:t.type,lastModified:t.lastModified}):new Blob([t],{type:t.type})}catch{return String(t)}if(typeof URL<"u"&&t instanceof URL)try{return new URL(t.toString())}catch{return String(t)}if(typeof URLSearchParams<"u"&&t instanceof URLSearchParams)try{return new URLSearchParams(t.toString())}catch{return String(t)}if(t instanceof Error){const o=t;let s;try{const i=o.constructor;s=typeof i=="function"?new i(o.message):new Error(o.message)}catch{s=new Error(o.message)}if(s.name=o.name,typeof o.stack=="string"&&(s.stack=o.stack),"cause"in o)try{s.cause=Bt(o.cause,e)}catch{s.cause=String(o.cause)}for(const i of Object.keys(o))try{s[i]=Bt(o[i],e)}catch{s[i]=String(o[i])}return s}if(typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof WeakMap<"u"&&t instanceof WeakMap||typeof WeakSet<"u"&&t instanceof WeakSet)return String(t);if(Array.isArray(t)){const o=new Array(t.length);e.set(t,o);for(let s=0;s<t.length;s++)s in t&&(o[s]=Bt(t[s],e));return o}const r={};e.set(t,r);for(const o of Object.keys(t)){let s;try{s=t[o]}catch(i){s=String(i)}r[o]=Bt(s,e)}return r}function Bt(t,e){try{return structuredClone(t)}catch{}return qe(t,e)}function ss(t){const e=new RegExp(t.source,t.flags);return e.lastIndex=t.lastIndex,e}const gn="ABORT",mn="CALL",yn="REJECT",De="RESOLVE";function yt(t,e){const n=s=>{const i=s.data;if(Array.isArray(i)&&i[0]===mn){s.stopImmediatePropagation();const[l]=s.ports;if(!l)throw new Error("RPCCallMessage must contains a port.");e?async function(){const c=new AbortController;try{l.onmessage=({data:h})=>Array.isArray(h)&&h[0]===gn&&c.abort(),l.postMessage([De,await e.call({signal:c.signal},...i.slice(1))])}catch(h){if(h instanceof Error&&h.name==="DataCloneError")try{l.postMessage([De,await e.call({signal:c.signal},...os(i.slice(1)))]);return}catch{}l.postMessage([yn,h])}finally{l.close()}}():(l.postMessage([yn,new Error("No function was registered on this RPC. This is probably calling a client which do not implement the function.")]),l.close())}};t.addEventListener("message",n),t.start();const r=s=>(...i)=>new Promise((l,c)=>{var d;const{port1:h,port2:u}=new MessageChannel;h.onmessage=p=>{const b=p.data;b[0]===De?l(b[1]):c(b[1]),h.close()},(d=s==null?void 0:s.signal)==null||d.addEventListener("abort",()=>{h.postMessage([gn]),h.close(),c(new Error("Aborted."))}),t.postMessage([mn,...i],[u,...s.transfer||[]])}),o=r({});return o.withOptions=r,o}const bn="GENERATOR_GENERATE";function wn(t,e){const n=s=>{const i=s.data;if(Array.isArray(i)&&i[0]===bn){if(s.stopImmediatePropagation(),!e)throw new Error("No function was registered on this RPC. This is probably calling a client which do not implement the function.");const[l,c,...h]=i,u=e(...h);yt(c.next,u.next.bind(u)),yt(c.return,d=>{var p;return((p=u.return)==null?void 0:p.call(u,d))||{done:!0}}),yt(c.throw,d=>{var p;return((p=u.throw)==null?void 0:p.call(u,d))||Promise.reject(d)}),yt(c.asyncDispose,async()=>{var b,A;const d=Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose"),p=Symbol.dispose||Symbol.for("Symbol.dispose");d in u?await((b=u[d])==null?void 0:b.call(u)):p in u&&((A=u[p])==null||A.call(u))})}};t.addEventListener("message",n),t.start();const r=s=>{let i;return(...l)=>{var K;const{port1:c,port2:h}=new MessageChannel,{port1:u,port2:d}=new MessageChannel,{port1:p,port2:b}=new MessageChannel,{port1:A,port2:E}=new MessageChannel,T={signal:s.signal},w=()=>{c.close(),h.close(),u.close(),d.close(),p.close(),b.close(),A.close(),E.close()},O=yt(c).withOptions(T),f=yt(u).withOptions(T),m=yt(p).withOptions(T),L=yt(A).withOptions(T);let P=!1;const S=async nt=>{if(i==null||i(),P)return{done:!0};const ye=await nt();return ye.done&&(P=!0,w()),ye},I=async nt=>{i==null||i(),await nt(),P=!0,w(),i=()=>{throw new Error("This generator has been disposed.")}},N={next:nt=>S(()=>f(nt)),return:nt=>S(()=>m(nt)),throw:nt=>S(()=>L(nt)),[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")]:()=>I(()=>O()),[Symbol.asyncIterator]:()=>N};return t.postMessage([bn,{asyncDispose:h,next:d,return:b,throw:E},...l],[...s.transfer||[],h,d,b,E]),(K=s.signal)==null||K.addEventListener("abort",()=>{i=()=>{throw new Error("This generator has been aborted.")},w()},{once:!0}),N}},o=r({});return o.withOptions=r,o}const is=()=>Or?"*":se==="chatgpt"?"https://chatgpt.com":se==="chatgpt-tt"?"https://tt.chatgpt.com":se==="feather"?"https://feather.openai.com":se==="skybridge"?"https://skybridge.oaistatic.com":"*",as=async(t,e=[])=>{if("serviceWorker"in navigator){const i=await navigator.serviceWorker.getRegistration();if(i)return await i.unregister(),window.location.reload(),null}const n=Object.fromEntries(Object.entries(t).map(([i,l])=>{var u;const{port1:c,port2:h}=new MessageChannel;return l&&(((u=l==null?void 0:l.constructor)==null?void 0:u.name)==="AsyncGeneratorFunction"?wn(c,l):yt(c,l)),[i,h]})),r=new MessageChannel;window.parent.postMessage({type:"init",ports:n,replyPort:r.port2},is(),[...Object.values(n),r.port2]);const o=await new Promise(i=>{r.port1.onmessage=l=>i(l.data),r.port1.start()}),s=new Set(e);return Object.fromEntries(Object.entries(o).map(([i,l])=>[i,s.has(i)?wn(l):yt(l)]))};async function*cs(t,{html:e,props:n,theme:r,userAgent:o,features:s,safeArea:i}){let l;try{l=Oe({isFirstParty:!0,includePrivate:!1}),l.theme=r,l.userAgent=o,Object.assign(l,n)}catch{}yield*Xe({sandboxLogger:t,html:e,theme:r,features:s,additionalGlobals:l,safeArea:i,transformPosition:null,expectReadySignal:!1,isFirstParty:!0,measureHeight:!0,measureWidth:!1})}let mt=null;as({async*runUserCode(t){const e=new ot;try{const{runUserCode:n}=await Nt(async()=>{const{runUserCode:r}=await import("./run-user-code-eSpuH6UJ.js");return{runUserCode:r}},[]);yield*n(e,t)}catch(n){e.environmentError(n)}},async buildUserCode(t){const e=new ot;try{const{buildUserCode:n}=await Nt(async()=>{const{buildUserCode:r}=await import("./build-user-code--9uQxl_h.js");return{buildUserCode:r}},__vite__mapDeps([0,1]));return await n(e,t)}catch(n){e.environmentError(n)}return null},async prepareEnvironment(t){const e=new ot;try{const{prepareEnvironment:n}=await Nt(async()=>{const{prepareEnvironment:r}=await import("./prepare-environment-DHpv0W-d.js");return{prepareEnvironment:r}},[]);await n(e,t)}catch(n){e.environmentError(n)}},async*runWidgetCode(t){const e=new ot;try{yield*Hr(e,t)}catch(n){e.environmentError(n)}},async*runComponent(t){const e=new ot;try{yield*cs(e,t)}catch(n){e.environmentError(n)}},async validate(t,e){const n=new ot;try{const{validateReact:r}=await Nt(async()=>{const{validateReact:o}=await import("./validate-react-aPU4F9En.js");return{validateReact:o}},__vite__mapDeps([2,1,3]));return await r(n,t,e),!0}catch(r){const{parseAndLogTranspileError:o}=await Nt(async()=>{const{parseAndLogTranspileError:s}=await import("./parse-transpile-error-BP41jN94.js");return{parseAndLogTranspileError:s}},__vite__mapDeps([4,3]));return o(n,r)??!1}},stop(){mt==null||mt.destroy(),mt=null,hr()},setEditMode:t=>{const e=new ot;try{mt??(mt=new ns)}catch(n){e.environmentError(n);return}t?mt.enable():(mt==null||mt.destroy(),mt=null)},async screenshot(){var i;const t=st();if(!t)return null;const e=(i=t.contentDocument)==null?void 0:i.documentElement;if(!e)return null;const n=e.scrollLeft||0,r=e.scrollTop||0,{domToDataUrl:o}=await Nt(async()=>{const{domToDataUrl:l}=await import("./index-CSSI_kxh.js");return{domToDataUrl:l}},[]);return{imageBase64:await o(e,{backgroundColor:"transparent"}),scrollX:n,scrollY:r}},async setAdditionalGlobals({additionalGlobals:t}){const e=new ot;try{Gt({additionalGlobals:t,sandboxLogger:e})}catch(n){e.environmentError(n)}},async setWidgetData({widgetId:t,widgetState:e,toolInput:n,toolOutput:r,toolResponseMetadata:o,subjectId:s=null}){const i=new ot;try{Gt({additionalGlobals:{widget:{state:e,props:r,setState:l=>{var c,h;return(h=(c=X())==null?void 0:c.updateWidgetState)==null?void 0:h.call(c,t,l)}},...Fn({widgetId:t,globals:{toolInput:n,toolOutput:r,toolResponseMetadata:o,widgetState:e,subjectId:s},sandboxLogger:i})},sandboxLogger:i})}catch(l){i.environmentError(l)}},async setWidgetView({displayMode:t,viewParams:e}){const n=new ot;try{Gt({additionalGlobals:xn({displayMode:t,viewParams:e}),sandboxLogger:n})}catch(r){n.environmentError(r)}},async setTheme({theme:t}){const e=new ot;try{Dn({theme:t}),Gt({additionalGlobals:{theme:t},sandboxLogger:e})}catch(n){e.environmentError(n)}},async setSafeArea({safeArea:t}){const e=new ot;try{Mn({safeArea:t}),Gt({additionalGlobals:{safeArea:t},sandboxLogger:e})}catch(n){e.environmentError(n)}},async navigate(t){const{navigation:e}=await Nt(async()=>{const{navigation:n}=await Promise.resolve().then(()=>Br);return{navigation:n}},void 0);if("delta"in t){e.go(t.delta);return}if("popToRoot"in t){e.popToRoot();return}},getCurrentPath(){var e,n;const t=(n=(e=st())==null?void 0:e.contentWindow)==null?void 0:n.location;return t?`${t.pathname}${t.search}${t.hash}`:null}},["streamCompletion"]).then(t=>{t&&Ar(t)});export{Rn as E,Ne as L,Tt as M,ds as S,Nt as _,ar as a,z as b,Dr as c,X as d,ps as e,fs as f,Oe as g,Xe as r};
